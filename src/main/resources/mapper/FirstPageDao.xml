<?xml version="1.0" encoding="utf-8" ?>
        <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
                "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.charming.blog.dao.FirstPageDao">
    <resultMap id="firstPageBlog" type="com.charming.blog.queryvo.FirstPageBlog">
        <id property="id" column="id"/>
        <result property="title" column="title"/>
        <result property="updateTime" column="update_time"/>
        <result property="description" column="description"/>
        <result property="typeName" column="name"/>
        <result property="nickname" column="nickname"/>
        <result property="avatar" column="avatar"/>
    </resultMap>
    <select id="getFirstPageBlog" resultMap="firstPageBlog">
        select b.id,b.title,b.update_time,b.description,
        t.name ,
        u.nickname, u.avatar
        from blog.t_blog b, blog.t_type t,blog.t_user u
        where b.type_id = t.id and  u.id = b.user_id and b.recommend = 1;
    </select>

    <select id="getBlogCount" resultType="Integer">
        select count(*) from blog.t_blog
    </select>

    <select id="getTypeCount" resultType="Integer">
        select count(*) from blog.t_type;
    </select>

    <resultMap id="userInfo" type="com.charming.blog.queryvo.UserInfo">
        <id property="id" column="id"/>
        <result property="updateTime" column="update_time"/>
        <result property="createTime" column="create_time"/>
        <result property="email" column="email"/>
        <result property="nickname" column="nickname"/>
        <result property="avatar" column="avatar"/>
    </resultMap>

    <select id="getUserInfo" resultMap="userInfo">
        select id,update_time,create_time,email,nickname,avatar
        from blog.t_user
        where id = 2;
    </select>

</mapper>